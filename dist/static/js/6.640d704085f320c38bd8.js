webpackJsonp([6],{"7SJI":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a("Xxa5"),r=a.n(s),o=a("exGp"),n=a.n(o),i=a("3Xzz"),l=a("ATfr"),c=a("P9l9"),d={name:"storeView",props:{tableData:{type:Array,default:function(){return[]}},departmentId:{type:[String,Number],default:""},brandId:{type:[String,Number],default:""},firstLevelId:{type:[String,Number],default:""},gicFlag:{type:Boolean,default:!0}},data:function(){return{tableH:window.screen.availHeight-440-180-70,selectedList:[],showChildMember:!1,typeArr:["全部类型","自营","联营","代理(加盟)","代销","托管"],statusArr:["待审核","正常","审核失败","停业整顿","回收站","删除"]}},methods:{delStores:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=this;a.$confirm("是否删除所选店铺","提示",{type:"warning"}).then(function(){var s="";if(t)s=e.storeId;else{var r=[];a.selectedList.forEach(function(e){r.push(e.storeId)}),s=r.join(",")}var o={ids:s};a.postDel(o)})},postDel:function(e,t){var a=this;Object(c.a)("/haoban-manage-web/store/delByIds",e).then(function(e){1==e.data.errorCode?(a.$message.success({duration:1e3,message:"操作成功"}),t&&(t.popVisible=!1),a.$emit("getStoreList")):a.$message.error({duration:1e3,message:e.data.message})}).catch(function(e){a.$message.error({duration:1e3,message:e.message})})},selectMember:function(e){this.selectedList=e},setChildMemberShow:function(){this.$emit("setChildMemberShow",this.showChildMember)},cancelDelTag:function(e,t){t.popVisible=!1},toDelTag:function(e,t){var a={ids:t.storeId};this.postDel(a,t)}},computed:{disabledDel:function(){return this.selectedList.length<1}}},u={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"common-right-button-box"},[a("a",{attrs:{href:"#/storeInfo?firstLevelId="+e.firstLevelId}},[e.gicFlag?e._e():a("el-button",{attrs:{type:"primary"}},[e._v("添加门店")])],1),e._v(" "),a("a",{attrs:{href:"#/storeIo?importCode=store&departmentId="+e.departmentId+"&showChildMember="+1*e.showChildMember+"&brandId="+e.brandId}},[a("el-button",[e._v("批量导入/导出")])],1),e._v(" "),e.gicFlag?e._e():a("el-button",{attrs:{type:"danger",disabled:e.disabledDel},on:{click:e.delStores}},[e._v("批量删除")]),e._v(" "),a("span",{staticClass:"J_show-children el-button",attrs:{size:"small"}},[a("el-checkbox",{staticClass:"m-r-10",on:{change:e.setChildMemberShow},model:{value:e.showChildMember,callback:function(t){e.showChildMember=t},expression:"showChildMember"}},[e._v("显示子成员")]),a("a",{staticClass:"a-href"})],1)],1),e._v(" "),a("el-table",{ref:"table1",attrs:{data:e.tableData},on:{"selection-change":e.selectMember}},[a("el-table-column",{attrs:{type:"selection",width:"42"}}),e._v(" "),a("el-table-column",{attrs:{label:"门店",prop:"storeName",width:"140"}}),e._v(" "),a("el-table-column",{attrs:{label:"代码",prop:"storeCode",width:"140"}}),e._v(" "),a("el-table-column",{attrs:{label:"类型",prop:"storeType",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n        "+e._s(e.typeArr[1*t.row.storeType+1])+"\n      ")]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"地区",prop:"areaChainName","show-overflow-tooltip":!0},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n        "+e._s(t.row.areaChainName||"--")+"\n      ")]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"所属分组",prop:"groupChainName","show-overflow-tooltip":!0}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("a",{staticClass:"a-href m-r-20",attrs:{href:"#/storeInfo?gicFlag="+e.gicFlag+"&storeId="+t.row.storeId+"&firstLevelId="+e.firstLevelId}},[e._v("编辑")]),e._v(" "),e.gicFlag?e._e():a("el-popover",{attrs:{placement:"top",width:"160"},model:{value:t.row.popVisible,callback:function(a){e.$set(t.row,"popVisible",a)},expression:"scope.row.popVisible"}},[a("p",{staticStyle:{"line-height":"1.5",padding:"10px 10px 20px"}},[e._v("确认删除吗？")]),e._v(" "),a("div",{staticStyle:{"text-align":"right",margin:"0"}},[a("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(a){e.cancelDelTag(t.$index,t.row)}}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(a){e.toDelTag(t.$index,t.row)}}},[e._v("确定")])],1),e._v(" "),a("el-button",{staticClass:"p-l-10",attrs:{slot:"reference",type:"text"},slot:"reference"},[e._v("\n            删除\n          ")])],1)]}}])})],1)],1)},staticRenderFns:[]};var m=a("VU/8")(d,u,!1,function(e){a("sC3T")},null,null).exports,p=a("Ie7z"),f={name:"clerkView",props:{tableData:{type:Array,default:function(){return[]}},firstLevelId:{type:[String,Number],default:""},gicFlag:{type:Boolean,default:!1}},components:{vueSelectStore:p.a},data:function(){return{tableH:window.screen.availHeight-440-180-70,storeType:0,typeArr:["全部类型","自营","联营","代理(加盟)","代销","托管"],storeStatus:"",showChildMember:!1,treeSet:{isSelectPerson:!1,dialogVisible:!1,isSingle:!0,groupId:"",storeType:"",openNextBool:!0},defaultList:[],transferObj:{}}},methods:{handleSelectedList:function(e){e&&e.length&&this.postTrans(e)},postTrans:function(e){var t=this,a={id:t.transferObj.employeeClerkId,storeId:e[0].id,oldStoreId:t.transferObj.storeId};Object(c.a)("/haoban-manage-web/emp/clerkMove",a).then(function(e){1==e.data.errorCode?(t.$message.success({message:"转移成功"}),t.$emit("refreshClerkData")):t.$message.error({message:e.data.message})}).catch(function(e){t.$message.error({message:e.message})})},setChildMemberShow:function(){this.$emit("setChildMemberShow",this.showChildMember)},changeManager:function(e,t){var a=this,s={};e.clerks.some(function(e){return 1==e.isManager&&(s=e),1==e.isManager});var r={employeeClerkId:t.employeeClerkId,managerId:s.employeeClerkId};Object(c.a)("/haoban-manage-web/emp/setManager",r).then(function(e){1==e.data.errorCode?(s.isManager=0,t.isManager=1,a.$message.success({message:"操作成功"})):a.$message.error({message:e.data.message})}).catch(function(e){a.$message.error({message:e.message})})},selectByStatus:function(e){this.$emit("selectByStatus",e)},selectByType:function(e){var t="";0!=e&&(t=1*e-1),this.$emit("selectByType",t)},delClerk:function(e,t){var a=this;a.$confirm("是否要删除该员工？","提示",{type:"warning"}).then(function(){var s={ids:e.employeeClerkId};a.postDel(s,t,e)})},postDel:function(e,t,a){var s=this;Object(c.a)("/haoban-manage-web/emp/del",e).then(function(e){1==e.data.errorCode?(t.clerks.forEach(function(e){e.employeeClerkId==a.employeeClerkId&&t.clerks.splice(t.clerks.indexOf(e),1)}),s.$message.success({duration:1e3,message:"操作成功"})):s.$message.error({duration:1e3,message:e.data.message})}).catch(function(e){s.$message.error({duration:1e3,message:e.message})})},cancelDelTag:function(e,t,a){t.popVisible=!1},toDelTag:function(e,t,a){var s={ids:t.employeeClerkId};this.postDel(s,a,t)},toTransfer:function(e,t,a){this.transferObj=t,this.treeSet.storeType="addClerk",this.treeSet.groupId=this.firstLevelId,this.defaultList=[{id:t.storeId,label:t.storeName}],this.treeSet.dialogVisible=!0},addClerkBtn:function(e,t){this.$router.push({path:"/addClerk",query:{storeId:t.storeId,firstLevelId:this.firstLevelId,type:e}})}}},h={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"sf-right-button-box common-right-button-box"},[a("el-select",{attrs:{size:"small"},on:{change:e.selectByType},model:{value:e.storeType,callback:function(t){e.storeType=t},expression:"storeType"}},e._l(e.typeArr,function(e,t){return a("el-option",{key:e,attrs:{label:e,value:t}})})),e._v(" "),a("el-select",{attrs:{size:"small"},on:{change:e.selectByStatus},model:{value:e.storeStatus,callback:function(t){e.storeStatus=t},expression:"storeStatus"}},[a("el-option",{attrs:{label:"全部状态",value:""}}),e._v(" "),a("el-option",{attrs:{label:"正常",value:1}}),e._v(" "),a("el-option",{attrs:{label:"停业整顿",value:3}})],1),e._v(" "),a("span",{staticClass:"J_show-children el-button",staticStyle:{"vertical-align":"middle"},attrs:{size:"small"}},[a("el-checkbox",{staticClass:"m-r-10",on:{change:e.setChildMemberShow},model:{value:e.showChildMember,callback:function(t){e.showChildMember=t},expression:"showChildMember"}},[e._v("显示子成员")]),a("a",{staticClass:"a-href"})],1)],1),e._v(" "),a("el-table",{ref:"clerkViewTable",staticClass:"diy-table",attrs:{data:e.tableData}},[a("el-table-column",{attrs:{label:"门店",width:"300"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",[a("p",{staticClass:"m-b-10"},[e._v(e._s(t.row.storeName))]),e._v(" "),a("p",[a("a",{staticClass:"a-href",attrs:{href:"#/addClerk?gicFlag="+e.gicFlag+"&storeId="+t.row.storeId+"&firstLevelId="+e.firstLevelId+"&type=addClerk"}},[e._v("新增店员")])])])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"门店code",prop:"storeCode",width:"300"}}),e._v(" "),a("el-table-column",{attrs:{"min-width":"675"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("ul",e._l(t.row.clerks,function(s,r){return a("li",{key:s.employeeClerkId,staticClass:"clerk-obj-li"},[a("div",{staticClass:"clerk-name clerk-cell"},[a("el-radio",{attrs:{value:1,label:s.isManager},on:{change:function(a){e.changeManager(t.row,s)}}},[e._v(e._s(s.name))]),e._v(" "),1==s.isManager?a("span",{staticClass:"manager"},[e._v("店长")]):e._e()],1),e._v(" "),a("div",{staticClass:"clerk-cell clerk-phone"},[e._v(e._s(s.phoneNumber))]),e._v(" "),a("div",{staticClass:"clerk-cell clerk-position"},[e._v(e._s(s.positionName||"--"))]),e._v(" "),a("div",{staticClass:"clerk-cell clerk-status"},[a("div",{staticClass:"status-icon",class:1==s.status?"is-active":""},[a("i",{staticClass:"iconfont icon-shouji"})])]),e._v(" "),a("div",{staticClass:"clerk-cell clerk-handle"},[a("a",{staticClass:"a-href m-r-20",attrs:{href:"#/addClerk?gicFlag="+e.gicFlag+"&storeId="+t.row.storeId+"&clerkId="+s.employeeClerkId+"&firstLevelId="+e.firstLevelId+"&type=addClerk"}},[e._v("编辑")]),e._v(" "),a("el-popover",{attrs:{placement:"top",width:"160"},model:{value:s.popVisible,callback:function(t){e.$set(s,"popVisible",t)},expression:"clerk.popVisible"}},[a("p",{staticStyle:{"line-height":"1.5",padding:"10px 10px 20px"}},[e._v("确认删除吗？")]),e._v(" "),a("div",{staticStyle:{"text-align":"right",margin:"0"}},[a("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(a){e.cancelDelTag(r,s,t.row)}}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(a){e.toDelTag(r,s,t.row)}}},[e._v("确定")])],1),e._v(" "),a("el-button",{staticClass:"p-l-10",attrs:{slot:"reference",type:"text"},slot:"reference"},[e._v("\n                  删除\n                ")])],1),e._v(" "),1!=s.isManager?a("el-button",{staticClass:"m-l-10",attrs:{type:"text",size:"small"},on:{click:function(a){e.toTransfer(r,s,t.row)}}},[e._v("转移")]):e._e()],1)])}))]}}])},[a("template",{slot:"header"},[a("ul",{staticClass:"diy-header"},[a("li",{staticClass:"name"},[e._v("姓名")]),e._v(" "),a("li",{staticClass:"phone"},[e._v("手机号")]),e._v(" "),a("li",{staticClass:"position"},[e._v("职位")]),e._v(" "),a("li",{staticClass:"status"},[e._v("状态")]),e._v(" "),a("li",{staticStyle:{width:"200px"}},[e._v("操作")])])])],2)],1),e._v(" "),a("vue-select-store",{ref:"storeSelector",attrs:{selectType:"store",defaultList:e.defaultList,treeSet:e.treeSet},on:{handleSelectedList:e.handleSelectedList}})],1)},staticRenderFns:[]};var g=a("VU/8")(f,h,!1,function(e){a("D/yy")},"data-v-4b984c12",null).exports,v=a("qsKc"),b={name:"add-brand-dialog",data:function(){return{dialogVisible:!1,brandName:"",brand:""}},methods:{saveFn:function(){if(this.brandName){var e=this,t={brandName:e.brandName};Object(c.a)("/haoban-manage-web/brand/insert",t).then(function(t){1==t.data.errorCode?e.$emit("addSuccess"):e.$message.error({message:t.data.message})}).catch(function(t){e.$message.error({message:t.message})})}else this.$message.error({message:"请输入品牌名称"})}}},I={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-dialog",{attrs:{title:"新建品牌",width:"422px",visible:e.dialogVisible},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("p",[e._v("请输入品牌名称")]),e._v(" "),a("el-input",{staticClass:"m-t-20",model:{value:e.brandName,callback:function(t){e.brandName=t},expression:"brandName"}}),e._v(" "),a("div",{staticClass:"btn-box t-rt m-t-20 m-b-10"},[a("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.saveFn}},[e._v("确定")])],1)],1)],1)},staticRenderFns:[]};var _=a("VU/8")(b,I,!1,function(e){a("fAiH")},null,null).exports,C=a("WSbm"),y=a("oncj"),k=a("Ch4/"),S=a("unF8"),w={name:"storeEstruturaContainer",components:{navCrumb:i.a,searchMenu:l.a,storeView:m,clerkView:g,employeeInfo:C.a,storeInfo:v.a,addBrand:_,clerkInfo:y.a},data:function(){return{navpath:[{name:"首页",path:"/index"},{name:"企业通讯录",path:"/administrativeFrame"},{name:"门店架构",path:""}],menuData:[],searchResult:{},loading:!0,groupInfo:{groupName:"",departmentId:""},total:0,showChildMember:!1,pageSize:20,pageNumber:1,storeList:[],tableView:1,showEmployee:"node",perId:"",storeInfo:{},disableBtn:!0,storeStatus:"",storeType:"",recycleCount:0,firstLevelId:"",gicFlag:!0}},beforeRouteUpdate:function(e,t,a){a()},methods:{handleSearchKey:function(e){var t=this,a={keyWord:e};Object(c.a)("/haoban-manage-web/store/searchpage",a).then(function(e){t.searchResult=e.data.result||{}}).catch(function(e){t.$message.error({message:e.message})})},handleEmployeeSelection:function(e,t){var a=this;return n()(r.a.mark(function s(){return r.a.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return a.perId=e.employeeClerkId,a.userId=e.userId,a.showEmployee=t,s.next=5,a.getGicData();case 5:case"end":return s.stop()}},s,a)}))()},addBrand:function(){this.$refs.add_brand.dialogVisible=!0},addSon:function(){location.href="#/addGroup?addnew=1&type=childgroup&groupId="+this.groupInfo.departmentId+"&firstLevelId="+this.firstLevelId},goToEdit:function(e){var t=0==e?"brand":"group";location.href="#/addGroup?groupId="+this.groupInfo.departmentId+"&type="+t+"&firstLevelId="+this.firstLevelId},addSuccess:function(){this.getGroupData(),this.$refs.add_brand.dialogVisible=!1},handleStoreSelection:function(e,t){var a=this,s={storeId:e.storeId};Object(c.a)("/haoban-manage-web/store/findStoreById",s).then(function(e){1==e.data.errorCode?(a.storeInfo=e.data.result,a.groupInfo.brandId=e.data.result.brandId,a.showEmployee=t,a.getGicData()):a.$message.error({message:e.data.message})})},handleSizeChange:function(e){this.pageSize=e,this.getStoreList()},handleCurrentChange:function(e){this.pageNumber=e,this.getStoreList()},switchView:function(e){this.pageSize=20,this.pageNumber=1,this.storeList=[],this.showChildMember=!1,this.storeStatus="",this.getStoreList()},setChildMemberShow:function(e){this.showChildMember=e,this.getStoreList()},refreshClerkData:function(){this.getStoreList()},getGroupData:function(){var e=this;Object(c.a)("/haoban-manage-web/dept/deptList",{isStoreGroup:1}).then(function(t){1==t.data.errorCode?(e.menuData=t.data.result||[],t.data.result.some(function(t){return 0==t.level&&(e.groupInfo.brandId=t.brandId,e.groupInfo.departmentId=t.groupId,e.groupInfo.groupName=t.name,e.groupInfo.hasPression=t.hasPression,e.firstLevelId=t.chainId.split("-")[1],e.groupInfo.level=0),0==t.level}),e.getStoreList(),e.getGicData()):(e.menuData=[],e.loading=!1,e.$message.error({duration:1e3,message:t.data.message}))}).catch(function(t){e.$message.error({duration:1e3,message:t.message})})},getStoreList:function(){var e=this;if(!e.groupInfo.departmentId)return e.loading=!1,!1;e.loading=!0;var t={storeGroupId:e.groupInfo.departmentId,showChild:1*e.showChildMember,showType:e.tableView,pageSize:e.pageSize,pageNum:e.pageNumber,status:e.storeStatus,storeType:e.storeType};Object(c.a)("/haoban-manage-web/store/findSimplePage",t).then(function(t){1==t.data.errorCode?(e.loading=!1,e.total=t.data.result.total,t.data.result.list&&t.data.result.list.length&&t.data.result.list.forEach(function(e,t){e.popVisible=!1,e.clerks&&e.clerks.length&&e.clerks.forEach(function(e,t){e.popVisible=!1})}),e.storeList=t.data.result.list||[],e.getRecycle()):(e.loading=!1,e.storeList=[],e.$message.error({duration:1e3,message:t.data.message}))}).catch(function(t){e.loading=!1,e.$message.error({duration:1e3,message:t.message})})},handleTreeSelection:function(e,t,a){this.groupInfo.departmentId=e.groupId,this.firstLevelId=e.chainId.split("-")[1],this.groupInfo.groupName=e.name,this.groupInfo.brandId=e.brandId,this.showEmployee=a,this.groupInfo.hasPression=e.hasPression,this.groupInfo.level=e.level,this.storeStatus="",this.getStoreList(),this.getRecycle(),this.getGicData()},selectByStatus:function(e){this.storeStatus=e,this.getStoreList()},selectByType:function(e){this.storeType=e,this.getStoreList()},cancelClerkInfo:function(e){e&&(this.showEmployee="")},getRecycle:function(){var e=this,t={storeGroupId:e.groupInfo.departmentId};Object(c.a)("/haoban-manage-web/store/get-recycle-count",t).then(function(t){var a=t.data;1==a.errorCode?e.recycleCount=a.result:e.$message.error({duration:1e3,message:a.message})}).catch(function(t){e.$message.error({duration:1e3,message:t.message})})},getGicData:function(){var e=this;return n()(r.a.mark(function t(){var a,s,o,n;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if("store"!=(a=e).showEmployee||a.groupInfo.brandId){t.next=4;break}return a.loading=!1,t.abrupt("return",!1);case 4:return s={type:"employee"==a.showEmployee?2:1,businessId:"employee"==a.showEmployee?a.userId:a.groupInfo.brandId},t.next=7,Object(S.a)(s);case 7:o=t.sent,1==(n=o.data).errorCode?a.gicFlag=n.result:k.a.errorMsg(n);case 10:case"end":return t.stop()}},t,e)}))()}},beforeMount:function(){this.getGroupData()},mounted:function(){this.disableBtn=!1}},D={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"common-set-wrap store-frame-wrap"},[a("nav-crumb",{attrs:{navpath:e.navpath}}),e._v(" "),a("div",{staticClass:"right-content"},[a("div",{staticClass:"right-box"},[a("div",{staticClass:"store-estrutura-container common-frame-container"},[a("search-menu",{ref:"searchMenu",attrs:{storeFrame:!0,treeData:e.menuData,searchResult:e.searchResult},on:{handleSearchKey:e.handleSearchKey,handleTreeSelection:e.handleTreeSelection,handleStoreSelection:e.handleStoreSelection,handleEmployeeSelection:e.handleEmployeeSelection}},[a("template",{slot:"buttonBox"},[a("div",{staticClass:"slot-button"},[a("el-button",{attrs:{disabled:e.disableBtn},on:{click:e.addBrand}},[e._v("新建品牌")]),e._v(" "),a("el-popover",{attrs:{placement:"right",width:"200",content:"若您的企业为集团企业，可通过新建品牌，不同品牌的门店可以创建在不同的品牌下面",trigger:"hover"}},[a("i",{staticClass:"el-icon-info",attrs:{slot:"reference"},slot:"reference"})])],1)])],2),e._v(" "),"employee"==e.showEmployee?a("clerk-info",{attrs:{gicFlag:e.gicFlag,perId:e.perId},on:{cancelClerkInfo:e.cancelClerkInfo}}):"store"==e.showEmployee?a("store-info",{ref:"store_info",attrs:{gicFlag:e.gicFlag,storeInfo:e.storeInfo}}):a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"sf-right-container common-right-container"},[a("div",{staticClass:"sf-right-header common-right-header"},[a("span",{staticClass:"title-span"},[e._v(e._s(e.groupInfo.groupName)+"（"+e._s(e.total)+"家）")]),e._v(" "),a("span",{staticClass:"id-span"},[e._v("部门ID： "+e._s(e.groupInfo.departmentId))]),e._v(" "),e.gicFlag?a("el-popover",{attrs:{placement:"right",width:"200",content:"该品牌已与 GIC门店同步",trigger:"hover"}},[a("i",{staticClass:"el-icon-info",staticStyle:{color:"#c0c4cc",cursor:"pointer"},attrs:{slot:"reference"},slot:"reference"})]):e._e(),e._v(" "),e.gicFlag?e._e():a("span",{staticClass:"handle-area"},[a("el-button",{staticClass:"no-bdr-btn",on:{click:e.addSon}},[e._v(" 添加子分组 ")]),a("span",{staticClass:"hurdle"}),a("el-button",{staticClass:"no-bdr-btn",on:{click:function(t){e.goToEdit(e.groupInfo.level)}}},[e._v(" 编辑 ")])],1)],1),e._v(" "),a("div",{staticClass:"tab-div"},[a("el-radio-group",{on:{change:e.switchView},model:{value:e.tableView,callback:function(t){e.tableView=t},expression:"tableView"}},[a("el-radio-button",{attrs:{label:1}},[e._v("门店视图")]),e._v(" "),a("el-radio-button",{attrs:{label:2}},[e._v("店员视图")])],1),e._v(" "),a("a",{staticClass:"a-href fr",attrs:{href:"#/recycle?brandId="+e.groupInfo.brandId+"&dept="+e.groupInfo.departmentId+"&showChild=1&type="+e.storeType}},[a("el-button",{attrs:{type:"primary",icon:"el-icon-delete"}},[e._v("回收站（"+e._s(e.recycleCount)+"）")])],1)],1),e._v(" "),a("div",[1==e.tableView?[a("store-view",{attrs:{gicFlag:e.gicFlag,tableData:e.storeList,departmentId:e.groupInfo.departmentId,brandId:e.groupInfo.brandId,firstLevelId:e.firstLevelId},on:{setChildMemberShow:e.setChildMemberShow,getStoreList:e.getStoreList}})]:[a("clerk-view",{attrs:{gicFlag:e.gicFlag,tableData:e.storeList,firstLevelId:e.firstLevelId},on:{setChildMemberShow:e.setChildMemberShow,selectByStatus:e.selectByStatus,selectByType:e.selectByType,refreshClerkData:e.refreshClerkData}})]],2),e._v(" "),e.storeList.length?a("div",{staticClass:"pagination"},[a("el-pagination",{attrs:{background:"","page-sizes":[20,40,60,80],"page-size":e.pageSize,"current-page":e.pageNumber,layout:"total, sizes, prev, pager, next",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1):e._e()]),e._v(" "),a("add-brand",{ref:"add_brand",on:{addSuccess:e.addSuccess}})],1)])]),e._v(" "),a("vue-gic-footer")],1)},staticRenderFns:[]};var N=a("VU/8")(w,D,!1,function(e){a("N2lA")},null,null);t.default=N.exports},ATfr:function(e,t,a){"use strict";var s=a("0xDb"),r={name:"searchMenu",components:{},props:{treeData:{type:Array,required:!0},searchResult:{type:Object,required:!0},storeFrame:{type:Boolean,default:!1}},data:function(){return{searchKey:"",searchResultShow:!1,myProps:{children:"childrens",label:"label",disabled:"disabled"},menuData:[],defaultOpen:[],defaultId:""}},methods:{clearFn:function(){this.searchResultShow=!1,this.$nextTick(function(){document.querySelector(".el-tree-node").classList.add("is-current")})},searchFn:function(){if(""==this.searchKey)return this.searchResultShow=!1,!1;this.searchResultShow=!0,this.$emit("handleSearchKey",this.searchKey)},handleNodeClick:function(e,t){e.id!=this.defaultId&&document.querySelector(".el-tree-node")&&document.querySelector(".el-tree-node").classList.remove("is-current"),this.defaultId=e.groupId,this.$emit("handleTreeSelection",e,t,"node")},selectEmployee:function(e){this.defaultId=e.employeeClerkId,this.$emit("handleEmployeeSelection",e,"employee")},handleStoreClick:function(e){this.$emit("handleStoreSelection",e,"store")}},filter:{},computed:{employeeList:function(){return this.searchResult.searchList?this.searchResult.searchList:[]},departmentList:function(){return this.searchResult.departmentList?this.searchResult.departmentList:[]},brandList:function(){return this.searchResult.brandList?this.searchResult.brandList:[]}},watch:{treeData:function(e,t){var a=this,r=Object(s.c)(e);a.defaultOpen=r.defaultOpen,a.menuData=r.menuArr,a.menuData.length&&a.$nextTick(function(){a.defaultId=a.menuData.length?a.menuData[0].id:"",document.querySelector(".el-tree-node").classList.add("is-current")})}}},o={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"searh-menu-container"},[a("div",{staticClass:"p-0-15"},[a("el-input",{attrs:{"prefix-icon":"el-icon-search",placeholder:"姓名/手机号/部门名称",clearable:""},on:{clear:e.clearFn},nativeOn:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.searchFn(t):null}},model:{value:e.searchKey,callback:function(t){e.searchKey=t},expression:"searchKey"}}),e._v(" "),e._t("buttonBox"),e._v(" "),e.searchResultShow?e._e():a("el-tree",{staticClass:"search-menu",attrs:{"node-key":"id","default-expanded-keys":e.defaultOpen,data:e.menuData,"highlight-current":!0,"expand-on-click-node":!1,props:e.myProps},on:{"node-click":e.handleNodeClick},scopedSlots:e._u([{key:"default",fn:function(t){var s=t.node;return t.data,a("span",{staticClass:"custom-tree-node"},[a("i",{staticClass:"iconfont",class:1==s.level?"icon-2zuzhijiagou":"icon-tongshi-zuzhijiagou"}),e._v(" "),a("span",[e._v(e._s(s.label))])])}}])})],2),e._v(" "),e.searchResultShow?a("div",{staticClass:"search-result-container m-t-15"},[e.storeFrame?[e._l(e.brandList,function(t,s){return[t.departmentList.length>0||t.storeList.length>0||t.searchList.length>0?a("div",{key:t.topDepartment.brandId+"_"+s},[a("div",[a("p",{staticClass:"brand-title"},[e._v(e._s(t.topDepartment.name))]),e._v(" "),t.departmentList.length>0?a("ul",{staticClass:"search-result-ul"},[a("p",{staticClass:"title store-frame-title"},[e._v("分组列表")]),e._v(" "),e._l(t.departmentList,function(t,s){return a("li",{key:s+"_"+t.groupId,staticClass:"group-item items",on:{click:function(a){e.handleNodeClick(t)}}},[a("i",{staticClass:"iconfont icon-tongshi-zuzhijiagou"}),e._v("\n                "+e._s(t.name)+"\n              ")])})],2):e._e(),e._v(" "),t.storeList.length>0?a("ul",{staticClass:"search-result-ul"},[a("p",{staticClass:"title store-frame-title"},[e._v("门店列表")]),e._v(" "),e._l(t.storeList,function(t,s){return a("li",{key:s+"_"+t.storeGroupId,staticClass:"group-item items",on:{click:function(a){e.handleStoreClick(t)}}},[a("i",{staticClass:"iconfont icon-tongshi-zuzhijiagou"}),e._v("\n                "+e._s(t.storeName)+"\n              ")])})],2):e._e(),e._v(" "),t.searchList.length>0?a("ul",{staticClass:"search-result-ul"},[a("p",{staticClass:"title store-frame-title"},[e._v("人员列表")]),e._v(" "),e._l(t.searchList,function(t,s){return a("li",{key:s+"_"+t.employeeClerkId,staticClass:"person-item items",on:{click:function(a){e.selectEmployee(t)}}},[a("i",{staticClass:"iconfont icon-chengyuan"}),e._v("\n                "+e._s(t.name)+"\n                "),a("span",{staticClass:"from-group"},[e._v(e._s(t.departmentName))])])})],2):e._e()])]):e._e()]}),e._v(" "),e.brandList.length<1?a("p",{staticClass:"no-data-tip"},[e._v("暂无数据")]):e._e()]:[e.departmentList.length>0?a("ul",{staticClass:"search-result-ul"},[a("p",{staticClass:"title"},[e._v("部门列表")]),e._v(" "),e._l(e.departmentList,function(t,s){return a("li",{key:s+"_"+t.groupId,class:["group-item items",e.defaultId==t.groupId?"active-item":""],on:{click:function(a){e.handleNodeClick(t)}}},[a("i",{staticClass:"iconfont icon-tongshi-zuzhijiagou"}),e._v("\n          "+e._s(t.name)+"\n        ")])})],2):e._e(),e._v(" "),e.employeeList.length>0?a("ul",{staticClass:"search-result-ul"},[a("p",{staticClass:"title"},[e._v("人员列表")]),e._v(" "),e._l(e.employeeList,function(t,s){return a("li",{key:s+"_"+t.employeeClerkId,class:["person-item items",e.defaultId==t.employeeClerkId?"active-item":""],on:{click:function(a){e.selectEmployee(t)}}},[a("i",{staticClass:"iconfont icon-chengyuan"}),e._v("\n          "+e._s(t.name)+"\n          "),a("span",{staticClass:"from-group"},[e._v(e._s(t.departmentName))])])})],2):e._e(),e._v(" "),e.departmentList.length<1&&e.employeeList.length<1?a("p",{staticClass:"no-data-tip"},[e._v("暂无数据")]):e._e()]],2):e._e()])},staticRenderFns:[]};var n=a("VU/8")(r,o,!1,function(e){a("MEND")},null,null);t.a=n.exports},"D/yy":function(e,t){},MEND:function(e,t){},N2lA:function(e,t){},TQ3y:function(e,t){},fAiH:function(e,t){},hd98:function(e,t){},oncj:function(e,t,a){"use strict";var s=a("Ie7z"),r=a("P9l9"),o={name:"clerk-info-form",props:{isAddnew:{type:Boolean,default:!1},perId:{type:[String,Number],default:""},firstLevelId:{type:[String,Number],default:""},storeType:{type:[String,Number],default:""},gicFlag:{type:Boolean,default:!1}},components:{vueSelectStore:s.a},data:function(){return{rules:{name:[{required:!0,message:"请输入店员姓名",trigger:"blur"},{min:2,max:10,message:"长度在 2 到 10 个字符",trigger:"blur"}],phoneNumber:[{required:!0,validator:function(e,t,a){if(t)return/^1[34578]\d{9}$/.test(t)?a():a(new Error("手机号格式不正确"));return a(new Error("请输入手机号"))},trigger:"blur"}],storeName:[{required:!0,message:"请选择门店",trigger:"change"}],code:[{required:!0,message:"请输入code",trigger:"blur"},{min:2,max:20,message:"长度在 2 到 20 个字符",trigger:"blur"}],positionName:[{required:!0,message:"请输入店员职位",trigger:"blur"}]},clerkInfo:{storeName:"",storeId:"",managerMode:!1,positionName:"职员"},treeSet:{isSelectPerson:!1,dialogVisible:!1,isSingle:!0,groupId:"",storeType:"",openNextBool:!0},defaultList:[]}},methods:{toInputCode:function(e){var t=this.clerkInfo.code;""!==t&&(this.clerkInfo.code=t.replace(/[^A-Za-z0-9]+/g,""))},saveFn:function(e){var t=!0;this.$refs.clerk_info.validate(function(e){e||(t=!1)}),t&&this.addEmployee(this.clerkInfo,e)},callSelector:function(){this.treeSet.dialogVisible=!0},handleSelectedList:function(e){this.clerkInfo.storeName=e&&e.length?e[0].label:"",this.clerkInfo.storeId=e&&e.length?e[0].id:""},addEmployee:function(e,t){var a=this,s={name:e.name,isClerk:1,phoneNumber:e.phoneNumber,positionName:e.positionName,storeId:e.storeId,managerMode:1*e.managerMode,code:e.code,employeeClerkId:e.employeeClerkId||""},o=a.isAddnew?"/haoban-manage-web/emp/add":"/haoban-manage-web/emp/update";Object(r.a)(o,s).then(function(e){1==e.data.errorCode?(a.$message.success({message:"操作成功"}),1==t?a.clerkInfo={name:"",isClerk:1,phoneNumber:"",positionName:"职员",storeId:"",managerMode:!1,code:""}:a.$router.push("/storeFrame")):a.$message.error({message:e.data.message})}).catch(function(e){a.$message.error({message:e.message})})},cancel:function(){var e=this;this.$confirm(" 是否确认取消，取消后当前页面信息将丢失 ？","提示",{type:"warning"}).then(function(){e.$router.go(-1)}).catch(function(e){})},getClerkInfo:function(){var e=this,t={id:e.$route.query.clerkId?e.$route.query.clerkId:e.perId};Object(r.a)("/haoban-manage-web/emp/findOne",t).then(function(t){1==t.data.errorCode?(e.clerkInfo=t.data.result,e.defaultList=[{id:t.data.result.storeId,label:t.data.result.storeName}]):e.$message.error({message:t.data.message})}).catch(function(t){e.$message.error({message:t})})}},beforeMount:function(){this.treeSet.storeType=this.storeType,this.treeSet.groupId=this.firstLevelId,this.isAddnew||this.getClerkInfo()},watch:{perId:function(e,t){this.getClerkInfo(e)}}},n={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"form-container bdr-box"},[a("el-form",{ref:"clerk_info",staticClass:"add-clerk-form",attrs:{model:e.clerkInfo,rules:e.rules,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"姓名",prop:"name"}},[a("el-input",{model:{value:e.clerkInfo.name,callback:function(t){e.$set(e.clerkInfo,"name",t)},expression:"clerkInfo.name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"手机号",prop:"phoneNumber"}},[a("el-input",{attrs:{disabled:!e.isAddnew},model:{value:e.clerkInfo.phoneNumber,callback:function(t){e.$set(e.clerkInfo,"phoneNumber",t)},expression:"clerkInfo.phoneNumber"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"门店",prop:"storeName"}},[a("el-input",{attrs:{disabled:!e.isAddnew},on:{focus:e.callSelector},model:{value:e.clerkInfo.storeName,callback:function(t){e.$set(e.clerkInfo,"storeName",t)},expression:"clerkInfo.storeName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"code",prop:"code"}},[a("el-input",{attrs:{disabled:e.gicFlag&&!e.isAddnew},on:{blur:function(t){return e.toInputCode(t)}},model:{value:e.clerkInfo.code,callback:function(t){e.$set(e.clerkInfo,"code",t)},expression:"clerkInfo.code"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"职位",prop:"positionName"}},[a("el-input",{model:{value:e.clerkInfo.positionName,callback:function(t){e.$set(e.clerkInfo,"positionName",t)},expression:"clerkInfo.positionName"}})],1)],1),e._v(" "),a("div",{staticClass:"btn-box"},[a("el-button",{attrs:{type:"primary"},on:{click:e.saveFn}},[e._v("保 存")]),e._v(" "),!e.gicFlag&&e.isAddnew?a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.saveFn(1)}}},[e._v("保存并继续添加")]):e._e(),e._v(" "),e.gicFlag?e._e():a("el-button",{on:{click:e.cancel}},[e._v("取 消")])],1),e._v(" "),a("vue-select-store",{ref:"storeSelector",attrs:{selectType:"store",defaultList:e.defaultList,treeSet:e.treeSet},on:{handleSelectedList:e.handleSelectedList}})],1)},staticRenderFns:[]};var i=a("VU/8")(o,n,!1,function(e){a("hd98")},null,null);t.a=i.exports},qsKc:function(e,t,a){"use strict";var s=a("mvHQ"),r=a.n(s),o=a("P9l9"),n={name:"store-detail",components:{vueSelectStore:a("Ie7z").a},props:{storeInfo:{type:Object,default:function(){return{}}},gicFlag:{type:Boolean,default:!0}},data:function(){return{areaChainName:"",location:"",areaOptions:{},imgs:[],uploadUrl:"/haoban-manage-web/upload-img",defaultList:[],treeSet:{isSelectPerson:!1,dialogVisible:!1,isSingle:!0,groupId:this.storeInfo.brandId,openNextBool:!0},selectType:"group",disableFlag:!1,storeInfoData:this.storeInfo}},methods:{inputBlur:function(e){this.storeInfoData.storeArea||(this.storeInfoData.storeArea=""),this.storeInfoData.storeArea=Number(this.storeInfoData.storeArea.replace(/[^\d.]/g,""))?this.storeInfoData.storeArea.replace(/[^\d+(.\d+)]/g,""):"",this.storeInfoData.storeArea=Number(this.storeInfoData.storeArea).toFixed(2),this.storeInfoData.storeArea>=999999&&(this.storeInfoData.storeArea=Number(999999).toFixed(2))},callSelector:function(){this.treeSet={isSelectPerson:!1,dialogVisible:!0,isSingle:!0,groupId:this.storeInfoData.brandId,openNextBool:!0}},handleSelectedList:function(e){this.storeInfoData.groupChainName=e.length?e[0].chainName:"",this.storeInfoData.departmentName=e.length?e[0].label:"",this.storeInfoData.storeGroupId=e.length?e[0].id:""},selected:function(e){this.areaChainName=e.provinceName+"/"+e.cityName+"/"+e.countryName},uploadOnSuccess:function(e,t){e.file.url=e.res.result[0].qcloudImageUrl,t.push(e.file)},sortImg:function(e){this.imgs=e},deleteImage:function(e){this.imgs.splice(e,1)},save:function(){var e=this,t=e.location.split(",");e.storeInfoData.longitude=t[1],e.storeInfoData.latitude=2!==t.length?"":t[0],e.storeInfoData.managerPhone=e.storeInfoData.managerPhone,e.storeInfoData.areaChainName=e.areaOptions.provinceName+"/"+e.areaOptions.cityName+"/"+e.areaOptions.countryName;var a=e.storeInfoData,s=[];e.imgs.forEach(function(e){s.push(e.url)}),a.imageUrls=s.join(","),Object(o.e)("/haoban-manage-web/store/update",a).then(function(t){1==t.data.errorCode?e.$message.success({message:"操作成功！"}):e.$message.error({message:t.data.message})}).catch(function(t){e.$message.error({message:t.message})})},formatStoreInfo:function(e){this.defaultList=[{id:e.storeGroupId,label:e.departmentName}];var t=(e.areaChainName||"").split("/");this.areaOptions={provinceName:t[0],provinceId:e.provinceId,cityName:t[1],cityId:e.cityId,countryName:t[2],countyId:e.countyId},this.imgs=e.imageUrl?e.imageUrl.split(","):[];var a=[];this.imgs.forEach(function(e){a.push({url:e})}),this.imgs=a,this.location=e.longitude?e.latitude+","+e.longitude:"",this.disableFlag=!!e.managerPhone}},watch:{storeInfo:function(e){this.treeSet.groupId=e.brandId,this.storeInfoData=e,this.formatStoreInfo(this.storeInfoData)}},beforeMount:function(){this.treeSet.groupId=this.storeInfo.brandId},mounted:function(){this.storeInfoData=JSON.parse(r()(this.storeInfo)),this.formatStoreInfo(this.storeInfoData)}},i={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"store-info"},[a("div",{staticClass:"info-cell"},[a("p",{staticClass:"title"},[e._v("门店信息")]),e._v(" "),a("el-form",{staticClass:"store-info-form info-form",attrs:{"label-width":"90px"}},[a("el-form-item",{attrs:{label:"门店名称",prop:"name"}},[a("el-input",{model:{value:e.storeInfoData.storeName,callback:function(t){e.$set(e.storeInfoData,"storeName",t)},expression:"storeInfoData.storeName"}},[a("template",{slot:"suffix"},[e._v("\n            "+e._s(e.storeInfoData.storeName?e.storeInfoData.storeName.length:0)+"/20\n          ")])],2)],1),e._v(" "),a("el-form-item",{attrs:{label:"所属分组",prop:"departmentName"}},[a("el-input",{attrs:{disabled:e.gicFlag},on:{focus:e.callSelector},model:{value:e.storeInfoData.groupChainName,callback:function(t){e.$set(e.storeInfoData,"groupChainName",t)},expression:"storeInfoData.groupChainName"}},[a("i",{staticClass:"el-input__icon el-icon-arrow-down",attrs:{slot:"suffix"},slot:"suffix"})])],1),e._v(" "),a("el-form-item",{attrs:{label:"门店图片(640*340)",prop:"imageUrls"}},[a("div",{staticClass:"member-upload-image"},[a("vue-office-upload-image",{attrs:{projectName:"haoban-manage-web",wxFlag:"0",actionUrl:e.uploadUrl,imageList:e.imgs,limitW:640,limitH:340,maxImageLength:10},on:{uploadOnSuccess:e.uploadOnSuccess,sortImg:e.sortImg,deleteImage:e.deleteImage}})],1),e._v(" "),a("div",{staticClass:"tip font-12 color-909399 m-t-8 line-h-1"},[e._v("门店图片(640*340)，支持.jpg，.jepg，.png类型文件，最多添加10张图片")])]),e._v(" "),a("el-form-item",{attrs:{label:"联系电话",prop:"phoneNumber"}},[a("el-input",{model:{value:e.storeInfoData.phoneNumber,callback:function(t){e.$set(e.storeInfoData,"phoneNumber",t)},expression:"storeInfoData.phoneNumber"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"营业时间",prop:"phoneNumber"}},[a("el-time-select",{attrs:{placeholder:"起始时间","picker-options":{start:"00:00",step:"00:05",end:"24:00"}},model:{value:e.storeInfoData.openTime,callback:function(t){e.$set(e.storeInfoData,"openTime",t)},expression:"storeInfoData.openTime"}}),e._v("\n        ~\n        "),a("el-time-select",{attrs:{placeholder:"结束时间","picker-options":{start:"00:00",step:"00:05",end:"24:00",minTime:e.storeInfoData.openTime}},model:{value:e.storeInfoData.closeTime,callback:function(t){e.$set(e.storeInfoData,"closeTime",t)},expression:"storeInfoData.closeTime"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"门店类型"}},[a("el-radio-group",{model:{value:e.storeInfoData.storeType,callback:function(t){e.$set(e.storeInfoData,"storeType",t)},expression:"storeInfoData.storeType"}},[a("el-radio",{attrs:{label:0}},[e._v("自营")]),e._v(" "),a("el-radio",{attrs:{label:1}},[e._v("联营")]),e._v(" "),a("el-radio",{attrs:{label:2}},[e._v("代理")]),e._v(" "),a("el-radio",{attrs:{label:3}},[e._v("代销")]),e._v(" "),a("el-radio",{attrs:{label:4}},[e._v("托管")])],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"门店地址"}},[a("vue-office-area",{attrs:{areaOptions:e.areaOptions,projectName:"haoban-web",postUrl:"/api-admin/dict-district-list"},on:{selected:e.selected}}),e._v(" "),a("el-input",{model:{value:e.storeInfoData.postAddress,callback:function(t){e.$set(e.storeInfoData,"postAddress",t)},expression:"storeInfoData.postAddress"}},[a("template",{slot:"suffix"},[e._v(e._s((e.storeInfoData.postAddress||"").length)+"/50")])],2)],1),e._v(" "),a("el-form-item",{attrs:{label:"GPS坐标"}},[a("el-input",{staticClass:"m-r-10",model:{value:e.location,callback:function(t){e.location=t},expression:"location"}}),e._v(" "),a("a",{staticClass:"a-href",attrs:{href:"http://m.gpsspg.com/maps.htm",target:"_blank"}},[e._v("经纬度测试工具")])],1),e._v(" "),a("el-form-item",[a("template",{slot:"label"},[e._v("\n          门店代码\n          ")]),e._v(" "),a("el-input",{attrs:{disabled:e.gicFlag},model:{value:e.storeInfoData.storeCode,callback:function(t){e.$set(e.storeInfoData,"storeCode",t)},expression:"storeInfoData.storeCode"}},[a("template",{slot:"suffix"},[e._v(e._s((e.storeInfoData.storeCode||"").length)+"/20")])],2)],2),e._v(" "),a("el-form-item",{attrs:{label:"门店面积"}},[a("el-input",{on:{blur:function(t){return e.inputBlur(t)}},model:{value:e.storeInfoData.storeArea,callback:function(t){e.$set(e.storeInfoData,"storeArea",t)},expression:"storeInfoData.storeArea"}}),a("span",{staticClass:"font-14 p-l-10"},[e._v("平方米")])],1)],1)],1),e._v(" "),a("div",{staticClass:"info-cell"},[a("p",{staticClass:"title"},[e._v("店长信息")]),e._v(" "),a("el-form",{staticClass:"store-manager-info-form info-form",attrs:{"label-width":"90px"}},[a("el-form-item",{attrs:{label:"店长姓名",prop:"name"}},[a("el-input",{attrs:{disabled:e.gicFlag},model:{value:e.storeInfoData.managerName,callback:function(t){e.$set(e.storeInfoData,"managerName",t)},expression:"storeInfoData.managerName"}},[a("template",{slot:"suffix"},[e._v(e._s((e.storeInfoData.managerName||"").length)+"/10")])],2)],1),e._v(" "),a("el-form-item",{attrs:{label:"手机号码",prop:"phone"}},[a("el-input",{attrs:{disabled:e.disableFlag||e.gicFlag},model:{value:e.storeInfoData.managerPhone,callback:function(t){e.$set(e.storeInfoData,"managerPhone",t)},expression:"storeInfoData.managerPhone"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"店长性别"}},[a("el-radio-group",{attrs:{disabled:e.gicFlag},model:{value:e.storeInfoData.managerSex,callback:function(t){e.$set(e.storeInfoData,"managerSex",t)},expression:"storeInfoData.managerSex"}},[a("el-radio",{attrs:{label:1}},[e._v("男")]),e._v(" "),a("el-radio",{attrs:{label:2}},[e._v("女")])],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"店长代码"}},[a("el-input",{attrs:{disabled:e.gicFlag},model:{value:e.storeInfoData.managerCode,callback:function(t){e.$set(e.storeInfoData,"managerCode",t)},expression:"storeInfoData.managerCode"}},[a("template",{slot:"suffix"},[e._v("\n            "+e._s((e.storeInfoData.managerCode||"").length)+"/20\n          ")])],2)],1)],1)],1),e._v(" "),a("div",{staticClass:"info-cell"},[a("p",{staticClass:"title"},[e._v("经营信息")]),e._v(" "),a("el-form",{staticClass:"operate-info-form info-form",attrs:{"label-width":"90px"}},[a("el-form-item",{attrs:{label:"特色服务"}},[a("el-input",{attrs:{type:"textarea",rows:2},model:{value:e.storeInfoData.specialService,callback:function(t){e.$set(e.storeInfoData,"specialService",t)},expression:"storeInfoData.specialService"}}),e._v(" "),a("p",{staticClass:"counter t-rt c-909399"},[e._v(e._s((e.storeInfoData.specialService||"").length)+"/20")])],1),e._v(" "),a("el-form-item",{attrs:{label:"人均消费"}},[a("el-input",{model:{value:e.storeInfoData.personCost,callback:function(t){e.$set(e.storeInfoData,"personCost",t)},expression:"storeInfoData.personCost"}},[a("template",{slot:"suffix"},[e._v(e._s((e.storeInfoData.personCost+"").length)+"/10")])],2)],1),e._v(" "),a("el-form-item",{attrs:{label:"推荐商品"}},[a("el-input",{attrs:{type:"textarea",rows:2},model:{value:e.storeInfoData.recommendGoods,callback:function(t){e.$set(e.storeInfoData,"recommendGoods",t)},expression:"storeInfoData.recommendGoods"}}),e._v(" "),a("p",{staticClass:"counter t-rt c-909399"},[e._v(e._s((e.storeInfoData.recommendGoods||"").length)+"/100")])],1),e._v(" "),a("el-form-item",{attrs:{label:"品牌介绍"}},[a("el-input",{attrs:{type:"textarea",rows:2},model:{value:e.storeInfoData.brandDes,callback:function(t){e.$set(e.storeInfoData,"brandDes",t)},expression:"storeInfoData.brandDes"}}),e._v(" "),a("p",{staticClass:"counter t-rt c-909399"},[e._v(e._s((e.storeInfoData.recommendGoods||"").length)+"/200")])],1)],1)],1),e._v(" "),a("div",{staticClass:"handle-area"},[a("el-button",{attrs:{type:"primary"},on:{click:e.save}},[e._v("保 存")])],1),e._v(" "),a("vue-select-store",{ref:"storeSelector",attrs:{defaultList:e.defaultList,treeSet:e.treeSet,selectType:e.selectType,forbidenList:[e.storeInfoData.storeGroupId]},on:{handleSelectedList:e.handleSelectedList}})],1)},staticRenderFns:[]};var l=a("VU/8")(n,i,!1,function(e){a("TQ3y")},null,null);t.a=l.exports},sC3T:function(e,t){}});