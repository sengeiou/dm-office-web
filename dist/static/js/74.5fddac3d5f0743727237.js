webpackJsonp([74],{RnrS:function(e,t){},lFAe:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i("//Fk"),a=i.n(s),l=i("gBtx"),n=i.n(l),d=i("mvHQ"),o=i.n(d),r=i("DAYN"),f=i.n(r),c=i("Isrn"),p=i("l46T"),m=i("fPyK"),u=[{parentCode:"defineInfo",fieldCode:"-1",fieldName:"单行输入框",systemFlag:!1,fieldEdited:1,fieldType:"0",fixed:!1,fieldDescription:"请输入",fieldOperations:{ruleContent:[],fieldContent:[]},isMust:!1,staffRecordsIds:{staffVisible:"1",staffModify:"1"}},{parentCode:"defineInfo",fieldCode:"-1",fieldName:"多行输入框",systemFlag:!1,fieldEdited:1,fieldType:"1",fixed:!1,fieldDescription:"请输入",fieldOperations:{ruleContent:[],fieldContent:[]},isMust:!1,staffRecordsIds:{staffVisible:"1",staffModify:"1"}},{parentCode:"defineInfo",fieldCode:"-1",fieldName:"单选框",systemFlag:!1,fieldEdited:1,fieldType:"2",fixed:!1,fieldDescription:"请选择",fieldOperations:{ruleContent:[],fieldContent:[{type:"radio",name:"选项1"},{type:"radio",name:"选项2"},{type:"radio",name:"选项3"}]},isMust:!1,staffRecordsIds:{staffVisible:"1",staffModify:"1"}},{parentCode:"defineInfo",fieldCode:"-1",fieldName:"多选框",systemFlag:!1,fieldEdited:1,fieldType:"3",fixed:!1,fieldDescription:"请选择",fieldOperations:{ruleContent:[],fieldContent:[{type:"checkbox",name:"选项1"},{type:"checkbox",name:"选项2"},{type:"checkbox",name:"选项3"}]},isMust:!1,staffRecordsIds:{staffVisible:"1",staffModify:"1"}},{parentCode:"defineInfo",fieldCode:"-1",fieldName:"日期",systemFlag:!1,fieldEdited:1,fieldType:"4",fixed:!1,fieldDescription:"请选择",fieldOperations:{typeValue:"yyyy-MM-dd",ruleContent:[{type:"radio",name:"年-月-日",key:"yyyy-MM-dd",isEdit:1},{type:"radio",name:"年-月",key:"yyyy-MM",isEdit:1}],fieldContent:[]},isMust:!1,staffRecordsIds:{staffVisible:"1",staffModify:"1"}},{parentCode:"defineInfo",fieldCode:"-1",fieldName:"日期区间",systemFlag:!1,fieldEdited:1,fieldType:"5",fixed:!1,fieldOperations:{startName:"开始时间",endName:"结束时间",startDescription:"请选择开始时间",endDescription:"请选择结束时间",typeValue:"yyyy-MM-dd",ruleContent:[{type:"radio",name:"年-月-日",key:"yyyy-MM-dd",isEdit:1},{type:"radio",name:"年-月",key:"yyyy-MM",isEdit:1}],fieldContent:[]},isMust:!1,staffRecordsIds:{staffVisible:"1",staffModify:"1"}},{parentCode:"defineInfo",fieldCode:"-1",fieldName:"数字输入框",systemFlag:!1,fieldType:"6",fieldEdited:1,fixed:!1,fieldDescription:"请输入",fieldOperations:{ruleContent:[],fieldContent:[],unit:"元"},isMust:!1,staffRecordsIds:{staffVisible:"1",staffModify:"1"}},{parentCode:"defineInfo",fieldCode:"-1",fieldName:"图片",systemFlag:!1,fieldType:"7",fieldEdited:1,fixed:!1,fieldDescription:"最多上传9张图片",fieldOperations:{ruleContent:[],fieldContent:[]},isMust:!1,staffRecordsIds:{staffVisible:"1",staffModify:"1"}}],v=function(){return u},g=i("3E4D"),h=i("Ch4/"),C=i("PI0u"),y=i("P9l9"),_={name:"staffRecordsTemplate",data:function(){return{activeName:"first",rightName:"first",dialogVisible:!1,bodyHeight:(document.documentElement.clientHeight||document.body.clientHeight)+"px",isDragging:!1,delayedDragging:!1,leftOption:{group:{name:"people",pull:"clone",put:!1},sort:!1,disabled:!1},leftDefineOption:{group:{name:"people",pull:"clone",put:!1},sort:!1,disabled:!1},selectKey:"",baseInfo:[],jobInfo:[],selfInfo:[],eduInfo:[],contractInfo:[],contactInfo:[],personalInfo:[],defineInfo:v(),currentIndex:0,currentChildKey:null,currentChildIndex:null,childIndex:0,tempaletDataList:[{parentCode:"0",fieldTemplateId:"",parentFieldTemplateId:"0",minCount:10,maxCount:20,fieldCode:"baseInfo",fieldName:"基本信息",fieldEdited:!1,fieldOperations:{ruleContent:[],fieldContent:[]},isMust:!1,fieldDescription:"",children:[],fieldType:"",staffRecordsIds:{},status:""},{parentCode:"0",fieldTemplateId:"",parentFieldTemplateId:"0",minCount:10,maxCount:20,fieldCode:"jobInfo",fieldName:"工作信息",fieldEdited:!1,isMust:!1,fieldDescription:"",children:[],fieldType:"",staffRecordsIds:{},status:""},{parentCode:"0",fieldTemplateId:"",parentFieldTemplateId:"0",minCount:10,maxCount:20,fieldCode:"selfInfo",fieldName:"个人信息",fieldEdited:!1,isMust:!1,fieldDescription:"",children:[],fieldType:"",staffRecordsIds:{},status:""},{parentCode:"0",fieldTemplateId:"",parentFieldTemplateId:"0",minCount:10,maxCount:20,fieldCode:"eduInfo",fieldName:"学历信息",fieldEdited:!1,isMust:!1,fieldDescription:"",children:[],fieldType:"",staffRecordsIds:{},status:""},{parentCode:"0",fieldTemplateId:"",parentFieldTemplateId:"0",minCount:10,maxCount:20,fieldCode:"contractInfo",fieldName:"合同信息",fieldEdited:!1,isMust:!1,fieldDescription:"",children:[],fieldType:"",staffRecordsIds:{},status:""},{parentCode:"0",fieldTemplateId:"",parentFieldTemplateId:"0",minCount:10,maxCount:20,fieldCode:"contactInfo",fieldName:"紧急联系人",fieldEdited:!1,isMust:!1,fieldDescription:"",children:[],fieldType:"",staffRecordsIds:{},status:""},{parentCode:"0",fieldTemplateId:"",parentFieldTemplateId:"0",minCount:10,maxCount:20,fieldCode:"personalInfo",fieldName:"个人资料",fieldEdited:!1,isMust:!1,fieldDescription:"",children:[],fieldType:"",staffRecordsIds:{},status:""}],fieldParent:{baseInfo:{},jobInfo:{},selfInfo:{},eduInfo:{},contractInfo:{},contactInfo:{},personalInfo:{}},setList:[]}},created:function(){},methods:{baseInfoClone:function(){},clickItem:function(e){this.tempaletDataList.map(function(e){return e.fieldCode}).includes(e.parentCode)||"defineInfo"===e.parentCode||(this.tempaletDataList.push(this.fieldParent[e.parentCode]),this.tempaletDataList=JSON.parse(o()(this.tempaletDataList)))},checkMove:function(e){var t=!0;return"baseInfo"!=e.draggedContext.element.parentCode||e.to.className.includes("baseInfo")||(t=!1),"jobInfo"!=e.draggedContext.element.parentCode||e.to.className.includes("jobInfo")||(t=!1),"selfInfo"!=e.draggedContext.element.parentCode||e.to.className.includes("selfInfo")||(t=!1),"eduInfo"!=e.draggedContext.element.parentCode||e.to.className.includes("eduInfo")||(t=!1),"contractInfo"!=e.draggedContext.element.parentCode||e.to.className.includes("contractInfo")||(t=!1),"contactInfo"!=e.draggedContext.element.parentCode||e.to.className.includes("contactInfo")||(t=!1),"personalInfo"!=e.draggedContext.element.parentCode||e.to.className.includes("personalInfo")||(t=!1),t},onMove:function(e){return!!this.checkMove(e)&&!e.draggedContext.element.fixed},onChildMove:function(e){return-1!=e.dragged.className.indexOf("block-class")&&e.to.className.indexOf("block-wrap"),!0},itemMoveEnd:function(e){var t=this;t.isDragging=!1,t.selectKey="",t.selectKey=e.clone.dataset.type,t.tempaletDataList.forEach(function(e,i){e.children.forEach(function(e,i){var s;e.systemFlag&&e.fieldCode==t.selectKey&&(s=e.parentCode,t[s].forEach(function(e,i){e.fieldCode==t.selectKey&&(e.fixed=!0)}))})}),t.selectKey="",t.tempaletDataList=JSON.parse(o()(t.tempaletDataList)),t.$forceUpdate()},selectItem:function(e,t){this.currentIndex=t,this.currentChildIndex=null},deleteItem:function(e,t){this.tempaletDataList.splice(t,1),this.currentIndex--,this.currentIndex<=0&&(this.currentIndex=0),this[e].forEach(function(e,t){e.fixed=!1})},addDragItem:function(e){return!1},selectChildItem:function(e,t,i,s){this.currentIndex=null,this.currentChildKey=e,this.childIndex=t,this.currentChildIndex=i},deleteChildItem:function(e,t,i,s,a){this.childIndex=t,this.currentIndex=null,this.currentChildKey=this.tempaletDataList[t].children[i].fieldCode,this.currentChildIndex--,this.currentChildIndex<=0&&(this.currentChildIndex=0),this.tempaletDataList=JSON.parse(o()(this.tempaletDataList)),this.tempaletDataList[t].children.splice(i,1),this[a.parentCode].forEach(function(t,i){t.fieldCode===e&&(t.fixed=!1)})},delChildItem:function(e,t,i){i.fieldOperations.fieldContent.splice(t,1)},addChildItem:function(e,t,i){if(19!=t){var s="radio";i.systemFlag||3!==parseInt(i.fieldType)||(s="checkbox"),i.fieldOperations.fieldContent.push({type:s,name:"请输入选项"});var a=i.fieldOperations.fieldContent.map(function(e){return e.name});this.isRepeat(a)&&(i.fieldOperations.fieldContent.splice(i.fieldOperations.fieldContent.length-1,1),a.splice(i.fieldOperations.fieldContent.length-1,1),this.$message.error({duration:1e3,message:"选项不能重复"}))}else this.$message.error({duration:1e3,message:"最多可添加 20 项"})},isRepeat:function(e){var t={};for(var i in e){if(t[e[i]])return!0;t[e[i]]=!0}return!1},changeRoute:function(e){this.$router.push(e)},checkTag:function(e){var t={filedFlag:!0,filedRepeat:!1},i=[];return e.forEach(function(e,s){if(""==e.fieldName)return t.filedFlag=!1,t.name=e.fieldName||"",!1;e.children.length&&e.children.forEach(function(e,s){if(e.systemFlag&&""==e.fieldName)return t.filedFlag=!1,t.name=e.fieldName||"",!1;i.push(e.fieldName)})}),this.isRepeat(i)&&(t.filedRepeat=!0),t},getUuid:function(){return"xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)})},saveAndBack:Object(C.a)(function(e){var t=JSON.parse(o()(this.tempaletDataList)),i=this.checkTag(t),s=[];if(i.filedFlag)if(i.filedRepeat)this.$message.error({duration:1e3,message:"字段标题不能重复"});else{if(t.forEach(function(e,t){e.sort=t,e.fixed=!0===e.fixed?1:0,e.isMust=!0===e.isMust?1:0,e.systemFlag=!0===e.systemFlag?1:0,e.parentFieldTemplateId=e.parentFieldTemplateId?e.parentFieldTemplateId:-1,e.fieldTemplateId=e.fieldTemplateId?e.fieldTemplateId:-1,e.children.forEach(function(t,i){s.push(t),t.sort=i,t.fixed=!0===t.fixed?1:0,t.isMust=!0===t.isMust?1:0,t.systemFlag=!0===t.systemFlag?1:0,e.systemFlag||(t.fieldEdited=1),2!==parseInt(t.fieldType)&&3!==parseInt(t.fieldType)||t.fieldOperations.fieldContent.forEach(function(e,i){e.key=String(e.key)?String(e.key):"",t.systemFlag||e.hasOwnProperty("key")&&""!=e.key&&"undefined"!=e.key||(e.key=e.name)}),t.systemFlag||(t.parentCode=e.fieldCode),t.fieldTemplateId=t.fieldTemplateId?t.fieldTemplateId:-1,t.parentFieldTemplateId=e.fieldTemplateId})}),s.length>40)return this.$message.error({duration:1e3,message:"最多设置 40 个字段"}),!1;"save"===e?this.saveAllData(t):this.postPreview(t)}else this.$message.error({duration:1e3,message:i.name+"字段标题不能为空"})},500),saveAllData:function(e){var t=this,i={templateContent:o()(e)};Object(y.e)("/haoban-manage-web/record/record-template-save.json",i).then(function(e){var i=e.data;if(1==i.errorCode)return g.a.showmsg("保存成功","success"),void t.changeRoute("/fileSet");h.a.errorMsg(i)}).catch(function(e){t.$message.error({duration:1e3,message:e.message})})},postPreview:function(e){var t=this,i={templateContent:o()(e)};Object(y.e)("/haoban-manage-web/record/record-template-preview.json",i).then(function(e){var i=e.data;if(1==i.errorCode){var s=window.location.origin+"/office-mobile/#/staffRecordsTemplate?enterpriseId="+i.result;return t.$refs.qrcodePreview.qrcode(s,"record"),void(t.dialogVisible=!0)}h.a.errorMsg(i)}).catch(function(e){t.$message.error({duration:1e3,message:e.message})})},closeDialog:function(){this.dialogVisible=!1},getAllFields:function(){var e=this;Object(y.e)("/haoban-manage-web/record/employee-find-system-template.json",{}).then(function(t){var i=t.data;1!=i.errorCode?h.a.errorMsg(i):e.handleAllFields(i.result)}).catch(function(t){e.$message.error({duration:1e3,message:t.message})})},handleAllFields:function(e){var t=this;e.forEach(function(e,i){t.hasOwnProperty(e.parentCode)&&(e.fixed=1===parseInt(e.fixed),e.isMust=1===parseInt(e.isMust),e.systemFlag=!0,e.fieldOperations=e.fieldOperations?JSON.parse(e.fieldOperations):{},e.staffRecordsIds=e.staffRecordsIds?JSON.parse(e.staffRecordsIds):[],t[e.parentCode].push(e)),t.fieldParent.hasOwnProperty(e.fieldCode)&&(e.children=[],t.fieldParent[e.fieldCode]=e,e.systemFlag=!0)})},getInfo:function(){var e=this;Object(y.e)("/haoban-manage-web/record/employee-find-template.json",{}).then(function(t){var i=t.data;if(1==i.errorCode)return e.setList=[],void(i.result&&i.result.length&&e.handleGetInfo(i.result));h.a.errorMsg(i)}).catch(function(t){e.$message.error({duration:1e3,message:t.message})})},treeData:function(e){var t=e.filter(function(t){var i=e.filter(function(e){return t.fieldCode==e.parentCode});return i.length>0?t.children=i:t.children=[],0==t.parentCode});return t.sort(function(e,t){return e.sort-t.sort}),t.forEach(function(e,t){e.children&&e.children.length&&e.children.sort(function(e,t){return e.sort-t.sort})}),t},handleGetInfo:function(e){var t=this,i=JSON.parse(o()(e));t.setParent=[],i.forEach(function(e,i){e.fixed=1===n()(e.fixed),e.isMust=1===n()(e.isMust),e.systemFlag=1===n()(e.systemFlag),e.fieldOperations=e.fieldOperations?JSON.parse(e.fieldOperations):{},e.staffRecordsIds=e.staffRecordsIds?JSON.parse(e.staffRecordsIds):[],e.systemFlag&&0==e.parentCode&&t.setParent.push(e.fieldCode),e.systemFlag&&0!=e.parentCode&&t.setList.push(e.fieldCode)}),t.tempaletDataList=t.treeData(i),setTimeout(function(){t.setFixed()},100)},setFixed:function(){var e=this;e.setParent.forEach(function(t,i){e[t].forEach(function(t,i){e.setList.includes(t.fieldCode)&&(t.fixed=!0)})})}},watch:{isDragging:function(e){var t=this;e?t.delayedDragging=!0:t.$nextTick(function(){t.delayedDragging=!1})}},components:{draggable:f.a,AddInput:c.a,limitInput:p.a,qrcodeDialog:m.a},mounted:function(){a.a.all([this.getAllFields(),this.getInfo()]),document.body.ondrop=function(e){e.preventDefault(),e.stopPropagation()}}},I={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"template-wrap",style:{height:e.bodyHeight}},[s("div",{staticClass:"template-contain"},[s("div",{staticClass:"template-head"},[e._m(0),e._v(" "),s("div",{staticClass:"template-btns flex-1 flex-r"},[s("el-button",{attrs:{type:"primary",plain:""},on:{click:function(t){e.saveAndBack("preview")}}},[e._v("预 览")]),e._v(" "),s("el-button",{attrs:{type:"primary",plain:""},on:{click:function(t){e.changeRoute("/fileSet")}}},[e._v("返 回")]),e._v(" "),s("el-button",{attrs:{type:"primary"},on:{click:function(t){e.saveAndBack("save")}}},[e._v("保存并启用")])],1)]),e._v(" "),s("div",{staticClass:"template-body"},[s("div",{staticClass:"template-cell template-cell-l"},[s("el-tabs",{model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[s("el-tab-pane",{attrs:{label:"系统字段",name:"first"}},[s("div",{staticClass:"filed-item-title"},[e._v("基本信息")]),e._v(" "),s("ul",[s("draggable",{staticClass:"compenent",attrs:{id:"list1",list:e.baseInfo,options:e.leftOption,move:e.onMove},on:{clone:e.baseInfoClone,start:function(t){e.isDragging=!0},end:e.itemMoveEnd}},e._l(e.baseInfo,function(t,i){return s("li",{key:i,class:["compenent-item",1==t.fixed?"fixed-item":""],attrs:{"data-type":t.fieldCode,"aria-hidden":"true"},on:{mousedown:function(i){e.clickItem(t)}}},[s("span",[e._v(e._s(t.fieldName))])])}))],1),e._v(" "),s("div",{staticClass:"filed-item-title"},[e._v("工作信息")]),e._v(" "),s("ul",[s("draggable",{staticClass:"compenent",attrs:{id:"list2",list:e.jobInfo,options:e.leftOption,move:e.onMove},on:{start:function(t){e.isDragging=!0},end:e.itemMoveEnd}},e._l(e.jobInfo,function(t,i){return s("li",{key:i,class:["compenent-item",1==t.fixed?"fixed-item":""],attrs:{"data-type":t.fieldCode},on:{mousedown:function(i){e.clickItem(t)}}},[s("span",[e._v(e._s(t.fieldName))])])}))],1),e._v(" "),s("div",{staticClass:"filed-item-title"},[e._v("个人信息")]),e._v(" "),s("ul",[s("draggable",{staticClass:"compenent",attrs:{id:"list3",list:e.selfInfo,options:e.leftOption,move:e.onMove},on:{start:function(t){e.isDragging=!0},end:e.itemMoveEnd}},e._l(e.selfInfo,function(t,i){return s("li",{key:i,class:["compenent-item",1==t.fixed?"fixed-item":""],attrs:{"data-type":t.fieldCode},on:{mousedown:function(i){e.clickItem(t)}}},[s("span",[e._v(e._s(t.fieldName))])])}))],1),e._v(" "),s("div",{staticClass:"filed-item-title"},[e._v("学历信息")]),e._v(" "),s("ul",[s("draggable",{staticClass:"compenent",attrs:{id:"list4",list:e.eduInfo,options:e.leftOption,move:e.onMove},on:{start:function(t){e.isDragging=!0},end:e.itemMoveEnd}},e._l(e.eduInfo,function(t,i){return s("li",{key:i,class:["compenent-item",1==t.fixed?"fixed-item":""],attrs:{"data-type":t.fieldCode},on:{mousedown:function(i){e.clickItem(t)}}},[s("span",[e._v(e._s(t.fieldName))])])}))],1),e._v(" "),s("div",{staticClass:"filed-item-title"},[e._v("合同信息")]),e._v(" "),s("ul",[s("draggable",{staticClass:"compenent",attrs:{id:"list5",list:e.contractInfo,options:e.leftOption,move:e.onMove},on:{start:function(t){e.isDragging=!0},end:e.itemMoveEnd}},e._l(e.contractInfo,function(t,i){return s("li",{key:i,class:["compenent-item",1==t.fixed?"fixed-item":""],attrs:{"data-type":t.fieldCode},on:{mousedown:function(i){e.clickItem(t)}}},[s("span",[e._v(e._s(t.fieldName))])])}))],1),e._v(" "),s("div",{staticClass:"filed-item-title"},[e._v("紧急联系人")]),e._v(" "),s("ul",[s("draggable",{staticClass:"compenent",attrs:{id:"list5",list:e.contactInfo,options:e.leftOption,move:e.onMove},on:{start:function(t){e.isDragging=!0},end:e.itemMoveEnd}},e._l(e.contactInfo,function(t,i){return s("li",{key:i,class:["compenent-item",1==t.fixed?"fixed-item":""],attrs:{"data-type":t.fieldCode},on:{mousedown:function(i){e.clickItem(t)}}},[s("span",[e._v(e._s(t.fieldName))])])}))],1),e._v(" "),s("div",{staticClass:"filed-item-title"},[e._v("个人材料")]),e._v(" "),s("ul",[s("draggable",{staticClass:"compenent",attrs:{id:"list5",list:e.personalInfo,options:e.leftOption,move:e.onMove},on:{start:function(t){e.isDragging=!0},end:e.itemMoveEnd}},e._l(e.personalInfo,function(t,i){return s("li",{key:i,class:["compenent-item",1==t.fixed?"fixed-item":""],attrs:{"data-type":t.fieldCode},on:{mousedown:function(i){e.clickItem(t)}}},[s("span",[e._v(e._s(t.fieldName))])])}))],1)]),e._v(" "),s("el-tab-pane",{attrs:{label:"自定义字段",name:"second"}},[s("div",{staticClass:"filed-item-title"}),e._v(" "),s("ul",[s("draggable",{staticClass:"compenent",attrs:{id:"list5",list:e.defineInfo,options:e.leftDefineOption,move:e.onChildMove},on:{start:function(t){e.isDragging=!0},end:e.itemMoveEnd}},e._l(e.defineInfo,function(t,i){return s("li",{key:i,class:["compenent-item",1==t.fixed?"fixed-item":""],attrs:{"data-type":t.fieldCode},on:{mousedown:function(i){e.clickItem(t)}}},[t.systemFlag||0!=t.fieldType?e._e():s("span",[e._v(e._s(t.fieldName))]),e._v(" "),t.systemFlag||1!=t.fieldType?e._e():s("span",[e._v(e._s(t.fieldName))]),e._v(" "),t.systemFlag||2!=t.fieldType?e._e():s("span",[e._v(e._s(t.fieldName))]),e._v(" "),t.systemFlag||3!=t.fieldType?e._e():s("span",[e._v(e._s(t.fieldName))]),e._v(" "),t.systemFlag||4!=t.fieldType?e._e():s("span",[e._v(e._s(t.fieldName))]),e._v(" "),t.systemFlag||5!=t.fieldType?e._e():s("span",[e._v(e._s(t.fieldName))]),e._v(" "),t.systemFlag||6!=t.fieldType?e._e():s("span",[e._v(e._s(t.fieldName))]),e._v(" "),t.systemFlag||7!=t.fieldType?e._e():s("span",[e._v(e._s(t.fieldName))]),e._v(" "),t.systemFlag||0!=t.fieldType?e._e():s("i",{staticClass:"bg-icon bg-icon-one"}),e._v(" "),t.systemFlag||1!=t.fieldType?e._e():s("i",{staticClass:"bg-icon bg-icon-two"}),e._v(" "),t.systemFlag||2!=t.fieldType?e._e():s("i",{staticClass:"bg-icon bg-icon-three"}),e._v(" "),t.systemFlag||3!=t.fieldType?e._e():s("i",{staticClass:"bg-icon bg-icon-four"}),e._v(" "),t.systemFlag||4!=t.fieldType?e._e():s("i",{staticClass:"bg-icon bg-icon-five"}),e._v(" "),t.systemFlag||5!=t.fieldType?e._e():s("i",{staticClass:"bg-icon bg-icon-six"}),e._v(" "),t.systemFlag||6!=t.fieldType?e._e():s("i",{staticClass:"bg-icon bg-icon-seven"}),e._v(" "),t.systemFlag||7!=t.fieldType?e._e():s("i",{staticClass:"bg-icon bg-icon-eight"})])}))],1)])],1)],1),e._v(" "),s("div",{staticClass:"template-cell template-cell-m"},[s("div",{staticClass:"phone-view"},[s("div",{staticClass:"phone-show-content"},[s("div",{staticClass:"drag-show-content"},[s("div",{staticClass:"view-container"},[s("ul",{staticClass:"view-content",attrs:{id:"showPhoneView"}},[0==e.tempaletDataList.length?[s("img",{staticClass:"templet-null-img",attrs:{src:i("Y7wY")}})]:e._e(),e._v(" "),s("draggable",{staticClass:"drag-wrap",attrs:{options:{group:{name:"people",pull:!1,put:!1},sort:!0}},model:{value:e.tempaletDataList,callback:function(t){e.tempaletDataList=t},expression:"tempaletDataList"}},e._l(e.tempaletDataList,function(t,i){return s("li",{key:"li1"+i,class:["filed-item",e.currentIndex==i?"active-item":"","li-block"],on:{click:function(s){e.selectItem(t.fieldCode,i)}}},["baseInfo"!=t.fieldCode?s("span",{staticClass:"item-close p-item-close",on:{click:function(s){s.stopPropagation(),e.deleteItem(t.fieldCode,i)}}},[s("i",{staticClass:"el-icon-close"})]):e._e(),e._v(" "),[s("div",{staticClass:"block"},[s("div",{staticClass:"block-head"},[s("div",{class:["opencard-item-title",t.fieldName.length>6?"block-pre-wrap":""]},[e._v(e._s(t.fieldName))])]),e._v(" "),s("ul",{staticClass:"view-content"},[s("draggable",{class:["drag-wrap","block-wrap",t.fieldCode],attrs:{options:{group:{name:"people",pull:!1,put:!0},sort:!0}},on:{add:e.addDragItem},model:{value:t.children,callback:function(i){e.$set(t,"children",i)},expression:"item.children"}},e._l(t.children,function(a,l){return s("li",{key:"li"+l,class:["filed-item","child-filed-item",e.currentChildKey==a.fieldCode&&e.currentChildIndex==l?"active-item":""],on:{click:function(s){s.stopPropagation(),e.selectChildItem(a.fieldCode,i,l,t.children)}}},["clerkPhone"!=a.fieldCode?s("span",{staticClass:"item-close child-item-close",on:{click:function(s){s.stopPropagation(),e.deleteChildItem(a.fieldCode,i,l,t.children,a)}}},[s("i",{staticClass:"el-icon-close"})]):e._e(),e._v(" "),2==a.fieldType||3==a.fieldType||4==a.fieldType?s("div",[s("div",{class:["opencard-item-title",a.fieldName.length>6?"title-pre-wrap":""]},[e._v(e._s(a.fieldName))]),e._v(" "),s("div",{staticClass:"draged-item-show"},[s("span",{staticClass:"show-warm-text show-warm-text-flag select-flag"},[e._v(e._s(a.fieldDescription)+" "),s("i",{staticClass:"el-icon-arrow-right"})])])]):e._e(),e._v(" "),5==a.fieldType?s("div",[s("div",[s("div",{class:["opencard-item-title",a.fieldOperations.startName.length>6?"title-pre-wrap":""]},[e._v(e._s(a.fieldOperations.startName))]),e._v(" "),s("div",{staticClass:"draged-item-show"},[s("span",{staticClass:"show-warm-text show-warm-text-flag select-flag"},[e._v(e._s(a.fieldOperations.startDescription)),s("i",{staticClass:"el-icon-arrow-right"})])])]),e._v(" "),s("div",{staticClass:"b-t-1"},[s("div",{class:["opencard-item-title",a.fieldOperations.endName.length>6?"title-pre-wrap":""]},[e._v(e._s(a.fieldOperations.endName))]),e._v(" "),s("div",{staticClass:"draged-item-show"},[s("span",{staticClass:"show-warm-text show-warm-text-flag select-flag"},[e._v(e._s(a.fieldOperations.endDescription)),s("i",{staticClass:"el-icon-arrow-right"})])])])]):e._e(),e._v(" "),7==a.fieldType?s("div",[s("div",{class:["opencard-item-title",a.fieldName.length>6?"title-pre-wrap":""]},[e._v(e._s(a.fieldName))]),e._v(" "),s("div",{staticClass:"draged-item-show"},[s("span",{staticClass:"show-warm-text show-warm-text-flag select-flag"},[s("i",{staticClass:"iconfont icon-icon"})])])]):e._e(),e._v(" "),0==a.fieldType||1==a.fieldType||6==a.fieldType?s("div",[s("div",{class:["opencard-item-title",a.fieldName.length>6?"title-pre-wrap":""]},[e._v(e._s(a.fieldName))]),e._v(" "),s("div",{staticClass:"draged-item-show"},[s("span",{staticClass:"show-warm-text show-warm-text-flag"},[e._v(e._s(a.fieldDescription))])])]):e._e()])}))],1)])]],2)}))],2)])])])])]),e._v(" "),s("div",{staticClass:"template-cell template-cell-r"},[s("el-tabs",{model:{value:e.rightName,callback:function(t){e.rightName=t},expression:"rightName"}},[s("el-tab-pane",{attrs:{label:"控件设置",name:"first"}},[s("div",{attrs:{id:"edit-box"}},[s("div",{staticClass:"edit-view baby-info-flag baby-info"},[e._l(e.tempaletDataList,function(t,i){return[e.currentIndex==i&&"0"==t.parentCode?[s("div",{key:"parent"+i,staticClass:"edit-item "},[s("div",{staticClass:"edit-item-title edit-title-padding"},[e._v("标题")]),e._v(" "),s("limitInput",{attrs:{inputWidth:340,limitClass:"limit-color",inputValue:t.fieldName,holder:"",disflag:!0,getByType:"word",maxLength:10},on:{"update:inputValue":function(i){e.$set(t,"fieldName",i)}}})],1)]:e._e(),e._v(" "),e.childIndex==i&&t.children&&t.children.length?[e._l(t.children,function(t,a){return[e.currentChildIndex==a?[s("div",{key:"child"+a,staticClass:"edit-item test-title limit-w-340"},[s("div",{staticClass:"edit-item-title"},[e._v("标题")]),e._v(" "),s("limitInput",{attrs:{inputWidth:340,limitClass:"limit-color",inputValue:t.fieldName,holder:"",disflag:t.systemFlag,getByType:"word",maxLength:10},on:{"update:inputValue":function(i){e.$set(t,"fieldName",i)}}}),e._v(" "),7==t.fieldType?s("p",{staticStyle:{"margin-top":"8px","font-size":"12px",color:"rgba(255, 255, 255, 0.7)"}},[e._v("\n                            "+e._s(t.fieldDescription)+"\n                          ")]):e._e()],1)]:e._e(),e._v(" "),e.currentChildIndex==a&&5!=t.fieldType&&7!=t.fieldType?[s("div",{key:"child1"+a,staticClass:"edit-item test-title limit-w-340"},[s("div",{staticClass:"edit-item-title"},[e._v("提示文字")]),e._v(" "),s("limitInput",{attrs:{inputWidth:340,limitClass:"limit-color",inputValue:t.fieldDescription,holder:"",disflag:!1,getByType:"word",maxLength:20},on:{"update:inputValue":function(i){e.$set(t,"fieldDescription",i)}}})],1)]:e._e(),e._v(" "),e.currentChildIndex==a&&5==t.fieldType?[s("div",{key:"child2"+a,staticClass:"edit-item test-title limit-w-340"},[s("div",{staticClass:"edit-item-title"},[e._v("开始时间")]),e._v(" "),s("limitInput",{attrs:{inputWidth:340,limitClass:"limit-color",inputValue:t.fieldOperations.startName,holder:"",disflag:t.systemFlag,getByType:"word",maxLength:10},on:{"update:inputValue":function(i){e.$set(t.fieldOperations,"startName",i)}}})],1),e._v(" "),s("div",{key:"child3"+a,staticClass:"edit-item test-title limit-w-340"},[s("div",{staticClass:"edit-item-title"},[e._v("提示文字")]),e._v(" "),s("limitInput",{attrs:{inputWidth:340,limitClass:"limit-color",inputValue:t.fieldOperations.startDescription,holder:"",disflag:!1,getByType:"word",maxLength:20},on:{"update:inputValue":function(i){e.$set(t.fieldOperations,"startDescription",i)}}})],1),e._v(" "),s("div",{key:"child4"+a,staticClass:"edit-item test-title limit-w-340"},[s("div",{staticClass:"edit-item-title"},[e._v("结束时间")]),e._v(" "),s("limitInput",{attrs:{inputWidth:340,limitClass:"limit-color",inputValue:t.fieldOperations.endName,holder:"",disflag:t.systemFlag,getByType:"word",maxLength:10},on:{"update:inputValue":function(i){e.$set(t.fieldOperations,"endName",i)}}})],1),e._v(" "),s("div",{key:"child5"+a,staticClass:"edit-item test-title limit-w-340"},[s("div",{staticClass:"edit-item-title"},[e._v("提示文字")]),e._v(" "),s("limitInput",{attrs:{inputWidth:340,limitClass:"limit-color",inputValue:t.fieldOperations.endDescription,holder:"",disflag:!1,getByType:"word",maxLength:20},on:{"update:inputValue":function(i){e.$set(t.fieldOperations,"endDescription",i)}}})],1)]:e._e(),e._v(" "),e.currentChildIndex==a&&6==t.fieldType?[s("div",{key:"child6"+a,staticClass:"edit-item test-title limit-w-340"},[s("div",{staticClass:"edit-item-title"},[e._v("单位")]),e._v(" "),s("limitInput",{attrs:{inputWidth:340,limitClass:"limit-color",inputValue:t.fieldOperations.unit,holder:"",disflag:!1,getByType:"word",maxLength:20},on:{"update:inputValue":function(i){e.$set(t.fieldOperations,"unit",i)}}})],1)]:e._e(),e._v(" "),e.currentChildIndex!=a||4!=t.fieldType&&5!=t.fieldType?e._e():[s("div",{key:"child7"+a,staticClass:"edit-item "},[s("div",{staticClass:"edit-item-title"},[e._v("日期类型")]),e._v(" "),e._l(t.fieldOperations.ruleContent,function(i,a){return[s("el-radio",{key:"child8"+a,attrs:{label:i.key},model:{value:t.fieldOperations.typeValue,callback:function(i){e.$set(t.fieldOperations,"typeValue",i)},expression:"childItem.fieldOperations.typeValue"}},[e._v("\n                              "+e._s(i.name)+"\n                            ")])]})],2)],e._v(" "),e.currentChildIndex!=a||"2"!=t.fieldType&&"3"!=t.fieldType?e._e():[s("div",{key:"child9"+a,staticClass:"edit-item "},[s("div",{staticClass:"edit-item-title"},[e._v("选项 "),t.systemFlag?e._e():s("span",[e._v("最多20项，每项最多10个字")])]),e._v(" "),e._l(t.fieldOperations.fieldContent,function(a,l){return[s("div",{key:"child10"+l,staticClass:"margin-t-15 limit-w-340",style:0==l?"margin-top: 0":""},[s("limitInput",{attrs:{inputWidth:340,limitClass:"limit-color",inputValue:a.name,holder:"",disflag:t.systemFlag,getByType:"word",maxLength:10},on:{"update:inputValue":function(t){e.$set(a,"name",t)}}}),e._v(" "),!t.systemFlag&&t.fieldOperations.fieldContent.length>1?s("i",{staticClass:"opt-btn el-icon-remove del-item",on:{click:function(s){e.delChildItem(i,l,t)}}}):e._e(),e._v(" "),!t.systemFlag&&l<19?[l==t.fieldOperations.fieldContent.length-1?s("i",{staticClass:"opt-btn el-icon-circle-plus add-item",on:{click:function(s){e.addChildItem(i,l,t)}}}):e._e()]:e._e()],2)]})],2)],e._v(" "),e.currentChildIndex==a?[s("div",{key:"child11"+a,staticClass:"edit-item"},[s("div",{staticClass:"edit-item-title"},[e._v("验证")]),e._v(" "),s("el-checkbox",{model:{value:t.isMust,callback:function(i){e.$set(t,"isMust",i)},expression:"childItem.isMust"}},[e._v("必填")])],1)]:e._e(),e._v(" "),e.currentChildIndex==a?[s("div",{key:"parent2"+a,staticClass:"edit-item "},[s("div",{staticClass:"edit-item-title"},[e._v("员工档案中")]),e._v(" "),s("div",{staticClass:"staffRecords-limit"},[s("el-radio",{staticClass:"label-cell",attrs:{label:"1"},model:{value:t.staffRecordsIds.staffVisible,callback:function(i){e.$set(t.staffRecordsIds,"staffVisible",i)},expression:"childItem.staffRecordsIds.staffVisible"}},[e._v("对员工可见")]),e._v(" "),s("el-radio",{staticClass:"label-cell",attrs:{label:"0"},model:{value:t.staffRecordsIds.staffVisible,callback:function(i){e.$set(t.staffRecordsIds,"staffVisible",i)},expression:"childItem.staffRecordsIds.staffVisible"}},[e._v("对员工不可见")])],1),e._v(" "),s("div",{staticClass:"staffRecords-limit"},[s("el-radio",{staticClass:"label-cell",attrs:{label:"1"},model:{value:t.staffRecordsIds.staffModify,callback:function(i){e.$set(t.staffRecordsIds,"staffModify",i)},expression:"childItem.staffRecordsIds.staffModify"}},[e._v("对员工可修改")]),e._v(" "),s("el-radio",{staticClass:"label-cell",attrs:{label:"0"},model:{value:t.staffRecordsIds.staffModify,callback:function(i){e.$set(t.staffRecordsIds,"staffModify",i)},expression:"childItem.staffRecordsIds.staffModify"}},[e._v("对员工不可修改")])],1)])]:e._e()]})]:e._e()]})],2)])])],1)],1)])]),e._v(" "),s("qrcode-dialog",{ref:"qrcodePreview",model:{value:e.dialogVisible,callback:function(t){e.dialogVisible=t},expression:"dialogVisible"}})],1)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"template-title flex-1"},[t("img",{attrs:{src:i("LbEI"),alt:"logo"}}),this._v(" "),t("span",{staticClass:"template-title-span"},[this._v("员工档案设置")])])}]};var x=i("VU/8")(_,I,!1,function(e){i("RnrS")},"data-v-0b086286",null);t.default=x.exports}});