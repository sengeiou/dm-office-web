webpackJsonp([16],{"71JE":function(t,e){},CLYF:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("3Xzz"),n=a("Zx22"),s=a("Ch4/"),l=a("PI0u"),o=a("P9l9"),r={name:"reviewed",data:function(){return{tableH:window.screen.availHeight-464-126+"px",navpath:[{name:"首页",path:"/index"},{name:"审核中心",path:"/unreview"},{name:"已审核",path:""}],filterValue:"99",filterOptions:[{label:"已同意",value:"1"},{label:"已拒绝",value:"2"},{label:"已审核",value:"99"}],searchValue:"",tableData:[],multipleSelection:[],currentPage:1,pageSize:20,total:0,applyInfo:{},showStoreDialog:!1,storeChangeData:{}}},filters:{formatTimeYMD:function(t){return"--"!=t?t.split(" ")[0]:"--"},formatTimeHMS:function(t){return"--"!=t?t.split(" ")[1]:"--"},formatNum:function(t){return(t+"").replace(/\d{1,3}(?=(\d{3})+$)/g,"$&,")}},computed:{},methods:{clearSearch:function(){this.getTableList()},searchEnterFun:function(t){if(!String(t.target.value).trim())return!1;this.getTableList()},toggleReason:function(t){t.visible=!0,this.tableData.forEach(function(e,a){e.enterpriseAuditingId!=t.enterpriseAuditingId&&(e.visible=!1)})},handleSelectionChange:function(t){this.multipleSelection=t},handleSizeChange:function(t){this.pageSize=t,this.getTableList()},handleCurrentChange:function(t){this.currentPage=t,this.getTableList()},showSingleInfo:function(t){},showStoreChange:function(t){this.showStoreDialog=!0,this.storeChangeData=t},getTableList:function(t){var e=this,a={auditingType:"",auditingStatus:e.filterValue,search:e.searchValue||"",pageNum:e.currentPage,pageSize:e.pageSize};Object(o.a)("/haoban-manage-web/audit/auditing-list.json",a).then(function(t){var a=t.data;if(1==a.errorCode)return a.result&&a.result.list&&a.result.list.forEach(function(t,e){t.createTime&&(t.createTime=Object(l.c)(t.createTime))}),e.tableData=a.result.list,void(e.total=a.result.total);s.a.errorMsg(a)}).catch(function(t){e.$message.error({duration:1e3,message:t.message})})}},mounted:function(){this.getTableList()},components:{navCrumb:i.a,storeChange:n.a}},c={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"reviewed-wrap common-set-wrap"},[a("nav-crumb",{attrs:{navpath:t.navpath}}),t._v(" "),a("div",{staticClass:"right-content"},[a("div",{staticClass:"right-box",style:{"min-height":t.$store.state.bgHeight}},[a("div",{staticClass:"reviewed-body-head"},[a("el-select",{staticClass:"w-130",attrs:{placeholder:"全部状态"},on:{change:t.getTableList},model:{value:t.filterValue,callback:function(e){t.filterValue=e},expression:"filterValue"}},t._l(t.filterOptions,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),a("el-input",{staticClass:"w-250 m-l-10",attrs:{placeholder:"请输入提交人姓名或门店名称","prefix-icon":"el-icon-search",clearable:""},on:{clear:t.clearSearch},nativeOn:{keyup:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.searchEnterFun(e):null}},model:{value:t.searchValue,callback:function(e){t.searchValue=e},expression:"searchValue"}})],1),t._v(" "),a("div",{staticClass:"reviewed-body-content"},[a("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:t.tableData,"tooltip-effect":"dark"}},[a("el-table-column",{attrs:{label:"审核事项"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n              "+t._s(0==e.row.auditingType?"门店信息变更":1==e.row.auditingType?"新增成员":"成员离职")+"\n            ")]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"提交人","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{staticClass:"flex"},[a("el-popover",{attrs:{placement:"top-start",width:"400",trigger:"hover"},on:{show:function(a){t.showSingleInfo(e.row.applyId)}}},[a("div",{staticClass:"apply-info-detail"},[a("div",{staticClass:"flex"},[a("div",{staticClass:"apply-info-img flex-align-center flex-pack-center bg-82C5FF "},[e.row.headPic?a("img",{attrs:{src:e.row.headPic,alt:"img"}}):a("i",{staticClass:"iconfont icon-yewuduanmorentouxian"})]),t._v(" "),a("div",{staticClass:"flex flex-column apply-info-right flex-space-between"},[a("div",{staticClass:"apply-info-name"},[t._v("\n                          "+t._s(e.row.applyName)+"\n                          "),a("i",{class:[2==e.row.sex?"icon-xingbienv color-FF585C":"icon-xingbienan color-508CEE","iconfont"]})]),t._v(" "),a("div",{staticClass:"apply-info-code"},[a("span",{staticClass:"w-80"},[t._v("员工代码：")]),a("span",{staticClass:"w-130"},[t._v(t._s(e.row.code))])]),t._v(" "),a("div",{staticClass:"apply-info-phone"},[a("span",{staticClass:"w-80"},[t._v("手机号：")]),a("span",{staticClass:"w-130"},[t._v(t._s(e.row.phoneNumber))])]),t._v(" "),a("div",{staticClass:"apply-info-job"},[a("span",{staticClass:"w-80"},[t._v("职位：")]),a("span",{staticClass:"w-130"},[t._v(t._s(e.row.positionName))])]),t._v(" "),a("div",{staticClass:"apply-info-store"},[a("span",{staticClass:"w-80"},[t._v("所属门店：")]),a("span",{staticClass:"w-130"},[t._v(t._s(e.row.storeName))])])])])]),t._v(" "),a("div",{attrs:{slot:"reference"},slot:"reference"},[a("div",{staticClass:"flex flex-align-center flex-pack-center bg-82C5FF table-head-pic"},[e.row.headPic?a("img",{attrs:{src:e.row.headPic,alt:"img"}}):a("i",{staticClass:"iconfont icon-yewuduanmorentouxian"})])])]),t._v(" "),a("div",{staticClass:"flex flex-column apply-info"},[a("span",[t._v(t._s(e.row.applyName))]),t._v(" "),a("span",{staticClass:"font-13"},[t._v(t._s(e.row.storeName))])])],1)]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"详情","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){return[0!=e.row.auditingType||0==e.row.auditingType&&1!=e.row.auditingUpdateType?a("span",[t._v(t._s(e.row.detail))]):t._e(),t._v(" "),1==e.row.auditingUpdateType?a("div",{staticClass:"line-hidden-2"},[a("span",[t._v(t._s(e.row.detail))]),t._v(" "),a("el-button",{attrs:{type:"text"},on:{click:function(a){t.showStoreChange(e.row)}}},[t._v("查看详情")])],1):t._e()]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"提交时间","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{staticClass:"line-h-18"},[t._v(t._s(t._f("formatTimeYMD")(e.row.createTime)))]),t._v(" "),a("div",{staticClass:"line-h-18"},[t._v(t._s(t._f("formatTimeHMS")(e.row.createTime)))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"状态"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{class:[2==e.row.auditingStatus?"color-FF585C":""]},[t._v(t._s(1==e.row.auditingStatus?"超级管理员已同意":"超级管理员已拒绝"))]),t._v(" "),a("el-popover",{staticClass:"inline-block",attrs:{placement:"top",width:"150",trigger:"hover"}},[a("div",{staticClass:"tooltip-text"},[t._v(t._s(e.row.refuseReason))]),t._v(" "),a("div",{attrs:{slot:"reference"},slot:"reference"},[2==e.row.auditingStatus?a("i",{staticClass:"el-icon-question",on:{click:function(a){t.toggleReason(e.row)}}}):t._e()])])]}}])})],1),t._v(" "),0!=t.tableData.length?a("div",{staticClass:"block common-wrap__page text-right"},[a("el-pagination",{attrs:{background:"","current-page":t.currentPage,"page-sizes":[20,40,60,80],"page-size":t.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:t.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1):t._e()],1)])]),t._v(" "),a("vue-gic-footer"),t._v(" "),a("storeChange",{attrs:{storeChangeData:t.storeChangeData},model:{value:t.showStoreDialog,callback:function(e){t.showStoreDialog=e},expression:"showStoreDialog"}})],1)},staticRenderFns:[]};var u=a("VU/8")(r,c,!1,function(t){a("NYDb")},"data-v-5c7b3e70",null);e.default=u.exports},NYDb:function(t,e){},Zx22:function(t,e,a){"use strict";var i={name:"custom-dialog",props:{value:{type:Boolean,default:!1},storeChangeData:{type:[Object,Array]}},data:function(){return{repProjectName:"gic-web",customDialog:this.value,leftData:[],rightData:[]}},methods:{handleCardClose:function(){this.customCancel()},customCancel:function(){this.customDialog=!1,this.$emit("input",this.customDialog)},formatDate:function(t,e){function a(t){return t>9?""+t:"0"+t}var i=new Date(t),n=i.getFullYear(),s=i.getMonth()+1,l=i.getDate();return n+e+a(s)+e+a(l)+e},handleData:function(){}},watch:{value:function(t,e){this.customDialog=t},storeChangeData:function(t,e){this.leftData=t.beforeContent,this.rightData=t.afterContent}},mounted:function(){this.leftData=this.storeChangeData.beforeContent,this.rightData=this.storeChangeData.afterContent}},n={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"custom-dialog-wrap"},[a("el-dialog",{attrs:{title:"门店图片变更",visible:t.customDialog,width:"600px","before-close":t.handleCardClose},on:{"update:visible":function(e){t.customDialog=e}}},[a("div",{staticClass:"dialog-content"},[a("el-row",[a("el-col",{attrs:{span:11}},[a("div",{staticClass:"grid-content bg-purple-dark"},[t._v("\n            变更前\n          ")]),t._v(" "),a("div",{staticClass:"data-body"},[a("div",{staticClass:"data-body-content flex flex-column"},[t._l(t.leftData,function(t,e){return[a("img",{key:"img"+e,attrs:{src:t,alt:""}})]})],2)])]),t._v(" "),a("el-col",{attrs:{span:11}},[a("div",{staticClass:"grid-content bg-purple-dark"},[t._v("\n            变更后\n          ")]),t._v(" "),a("div",{staticClass:"data-body"},[a("div",{staticClass:"data-body-content flex flex-column"},[t._l(t.rightData,function(t,e){return[a("img",{key:"img0"+e,attrs:{src:t,alt:""}})]})],2)])])],1)],1)])],1)},staticRenderFns:[]};var s=a("VU/8")(i,n,!1,function(t){a("71JE")},"data-v-709a6f08",null);e.a=s.exports}});